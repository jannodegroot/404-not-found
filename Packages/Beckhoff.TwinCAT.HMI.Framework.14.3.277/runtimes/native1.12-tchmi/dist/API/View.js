import{isParameterTypeInvalid}from"../System/SystemFunctions.js";import{viewManager}from"../System/ViewManager.js";
/**
 * Loads a view partial into the dom.
 * @param url URL of the view file to load
 * @param callback Callback will be called on success or failure
 * @preserve (Part of the public API)
 */export function load(url,callback=null){if(TCHMI_DESIGNER)TcHmi.Log.warn("[Source=Framework, Module=TcHmi.View] Loading an additional view level element in designer context is not allowed and therefore blocked."),TcHmi.Callback.callSafe(callback,null,{error:TcHmi.Errors.E_NOT_ALLOWED});else if(viewManager){if(isParameterTypeInvalid(url,"url",{type:"string",required:"valueNeeded",minStringLength:1},"TcHmi.View",callback))return;viewManager.loadView(url,callback)}else TcHmi.Log.error("[Source=Framework, Module=TcHmi.View] Loading view failed. System not ready."),TcHmi.Callback.callSafe(callback,null,{error:TcHmi.Errors.ERROR})}
/**
 * Returns the current view object.
 * @preserve (Part of the public API)
 */export function get(){return TCHMI_DESIGNER?(TcHmi.Log.warn("[Source=Framework, Module=TcHmi.View] Accessing a view level element is not allowed in designer context and therefore blocked."),null):viewManager?viewManager.getView():(TcHmi.Log.error("[Source=Framework, Module=TcHmi.View] Getting view failed. System not ready."),null)}
/**
 * Sets the view scale mode.
 * @param scaleMode new value
 * @preserve (Part of the public API)
 */export function setScaleMode(scaleMode){TCHMI_DESIGNER?TcHmi.Log.warn("[Source=Framework, Module=TcHmi.View] Accessing a view level element is not allowed in designer context and therefore blocked."):viewManager?viewManager.setScaleMode(scaleMode):TcHmi.Log.error("[Source=Framework, Module=TcHmi.View] Setting view scale mode failed. System not ready.")}export function addViewportElement(element,options){if(!viewManager)return TcHmi.Log.error("[Source=Framework, Module=TcHmi.View] Adding element failed. System not ready."),{code:TcHmi.Errors.E_SYSTEM_NOT_READY,message:TcHmi.Errors[TcHmi.Errors.E_SYSTEM_NOT_READY],domain:"TcHmi.View"};let paramInvalid=isParameterTypeInvalid(element,"element",{type:"object",required:"valueNeeded"});return paramInvalid||(paramInvalid=isParameterTypeInvalid(options.name,"options.name",{type:"string",required:"undefinedOk",minStringLength:1}),paramInvalid||("header"!==options.area&&"main"!==options.area&&"footer"!==options.area?{code:TcHmi.Errors.E_PARAMETER_INVALID,message:TcHmi.Errors[TcHmi.Errors.E_PARAMETER_INVALID],reason:"Invalid parameter for options.area"}:viewManager.addViewportElement(element,options)))}export function removeViewportElement(element){return viewManager?viewManager.removeViewportElement(element):(TcHmi.Log.error("[Source=Framework, Module=TcHmi.View] Removing element failed. System not ready."),{code:TcHmi.Errors.E_SYSTEM_NOT_READY,message:TcHmi.Errors[TcHmi.Errors.E_SYSTEM_NOT_READY],domain:"TcHmi.View"})}export function getViewportElementDimension(area="main"){return viewManager?"main"!==area&&"footer"!==area&&"header"!==area?(TcHmi.Log.error("[Source=Framework, Module=TcHmi.View] Fetching dimension failed. Support for other areas not implemented."),null):viewManager.getViewportElementDimension(area):(TcHmi.Log.error("[Source=Framework, Module=TcHmi.View] Fetching dimension failed. System not ready."),null)}TcHmi.View={load,get,setScaleMode,addViewportElement,removeViewportElement,getViewportElementDimension};